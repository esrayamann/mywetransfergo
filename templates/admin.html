{{define "admin.html"}}
<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Admin Paneli - {{.Username}}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
        <a class="navbar-brand" href="/dashboard">MyWeTransferGo</a>
        <div>
            <span class="text-white me-3">Hoşgeldin, {{.Username}}</span>
            <a href="/logout" class="btn btn-outline-light btn-sm">Çıkış Yap</a>
        </div>
    </div>
</nav>

<div class="container mt-4">

    {{if .Error}}
        <div class="alert alert-danger">{{.Error}}</div>
    {{end}}
    {{if .Success}}
        <div class="alert alert-success">{{.Success}}</div>
    {{end}}

    <!-- Kullanıcı Listesi -->
    <div class="card shadow-sm">
        <div class="card-body">
            <h4 class="card-title mb-3">Kullanıcı Listesi</h4>
            <table class="table table-bordered table-hover">
                <thead class="table-dark">
                    <tr>
                        <th>ID</th>
                        <th>Kullanıcı Adı</th>
                        <th>Email</th>
                        <th>Rol</th>
                        <th>Premium</th>
                        <th>İşlem</th>
                    </tr>
                </thead>
                <tbody>
                    {{range .users}}
                    <tr>
                        <td>{{.ID}}</td>
                        <td>{{.Username}}</td>
                        <td>{{.Email}}</td>
                        <td>
                            {{if eq .Role "admin"}}
                                <span class="badge bg-danger">Admin</span>
                            {{else}}
                                <span class="badge bg-secondary">User</span>
                            {{end}}
                        </td>
                        <td>
                            {{if .IsPremium}}
                                <span class="badge bg-success">Evet</span>
                            {{else}}
                                <span class="badge bg-warning text-dark">Hayır</span>
                            {{end}}
                        </td>
                        <td>
                            <form action="/change-role" method="POST" style="display:inline;">
                                <input type="hidden" name="id" value="{{.ID}}">
                                <button class="btn btn-sm btn-warning">Rolü Değiştir</button>
                            </form>
                        </td>
                    </tr>
                    {{end}}
                </tbody>
            </table>
        </div>
    </div>

</div>

</body>
</html>
{{end}}
